启动线程的正确与错误方式

1. ##### start方法含义：

   通知 JVM 在空闲的时候运行线程，线程运行由线程调度器进行调用。调用线程的顺序 不一定是 线程的启动顺序。

   启动子线程，启动的子线程需要在就绪状态，也就是除CPU资源外其他的资源已经就绪

   

   ** 不能重复调用 start **，会抛出异常

   2. ##### start源码解析

      ![image-20201124190218111](C:\Users\localuser\AppData\Roaming\Typora\typora-user-images\image-20201124190218111.png)

2. 常见的面试问题

   1. 一个线程两次调用 start 方法 会出现什么情况？为什么？

   调用两次会抛出异常，由于 线程刚启动时会进行状态的检查，  threadStatus 表示刚刚初始化一个线程，但是还没有启动，如果再启动线程，再源码中会抛出一个异常。

   

```java
/* Java thread status for tools,
 * initialized to indicate thread 'not yet started'
 */
private volatile int threadStatus = 0;
```

```java
public synchronized void start() {
    /**
     * This method is not invoked for the main method thread or "system"
     * group threads created/set up by the VM. Any new functionality added
     * to this method in the future may have to also be added to the VM.
     *
     * A zero status value corresponds to state "NEW".
     */
    if (threadStatus != 0)
        throw new IllegalThreadStateException();  // 抛出异常
    ....
}
```

2. ![image-20201124191857387](C:\Users\localuser\AppData\Roaming\Typora\typora-user-images\image-20201124191857387.png)

因为 调用start 方法才会让主线程 去启动一个线程，进行线程调度，经历线程的几个生命周期，直接调用run方法普通方法，不会启动子线程









































